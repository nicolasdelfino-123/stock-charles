{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AgregarLibro=()=>{const[formData,setFormData]=useState({isbn:\"\",titulo:\"\",autor:\"\",editorial:\"\",stock:1,// Stock predeterminado en 1\nprecio:0,ubicacion:\"\"});const[mensaje,setMensaje]=useState(\"\");// Estado para el mensaje de éxito\nconst handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});setMensaje(\"\");// ← Esto borra el mensaje al editar\n};const handleAutocomplete=async()=>{const{isbn}=formData;if(isbn){try{const response=await fetch(`http://localhost:5000/libros?isbn=${isbn}`);const data=await response.json();if(response.ok&&data.length>0){const libro=data[0];setFormData({...formData,autor:libro.autor||\"\",editorial:libro.editorial||\"\",stock:libro.stock||1,// Si stock es 0, establecer a 1\nprecio:libro.precio||0,titulo:libro.titulo||\"\",ubicacion:libro.ubicacion||\"\"});}else{setFormData({isbn:formData.isbn,titulo:\"\",autor:\"\",editorial:\"\",stock:1,// Stock predeterminado en 1 para libros nuevos\nprecio:0,ubicacion:\"\"});}}catch(error){console.error(\"Error al autocompletar los datos:\",error);alert(\"Hubo un error al intentar obtener los datos del libro.\");}}};useEffect(()=>{if(!formData.isbn){setFormData({isbn:\"\",titulo:\"\",autor:\"\",editorial:\"\",stock:1,// Stock predeterminado en 1\nprecio:0,ubicacion:\"\"});}else{handleAutocomplete();}},[formData.isbn]);const handleSubmit=async e=>{e.preventDefault();if(!formData.isbn||!formData.titulo||!formData.autor){alert(\"Por favor, complete todos los campos obligatorios.\");return;}// Verificar que el stock no sea menor que 1\nif(formData.stock<1){alert(\"El stock debe ser de al menos 1 unidad.\");return;}if(formData.precio<0){alert(\"El precio no puede ser negativo.\");return;}try{// Revisar si el libro ya existe en el sistema\nconst response=await fetch(`http://localhost:5000/libros?isbn=${formData.isbn}`);const data=await response.json();if(response.ok&&data.length>0){const libroExistente=data[0];// Comparamos campos solo para mostrar mensaje\nlet cambios=[];if(formData.titulo!==libroExistente.titulo){cambios.push(\"título\");}if(formData.autor!==libroExistente.autor){cambios.push(\"autor\");}if(formData.editorial!==libroExistente.editorial){cambios.push(\"editorial\");}if(formData.stock!==libroExistente.stock){cambios.push(`stock (${libroExistente.stock} → ${formData.stock})`);}if(formData.precio!==libroExistente.precio){cambios.push(\"precio\");}if(formData.ubicacion!==libroExistente.ubicacion){cambios.push(\"ubicación\");}// Si hay cambios, actualizar el libro en la base de datos\nif(cambios.length>0){// Aquí realizamos la actualización del libro\nconst responseActualizar=await fetch(`http://localhost:5000/libros/${libroExistente.id}`,{method:\"PUT\",// O PATCH, dependiendo de tu API\nheaders:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});if(responseActualizar.ok){// Mensaje de éxito con los campos que se modificaron\nconst mensajeExito=`Libro actualizado con éxito. Campos modificados: ${cambios.join(\", \")}.`;setMensaje(mensajeExito);}else{const errorData=await responseActualizar.json();alert(errorData.error||\"Hubo un error al actualizar el libro\");}}else{setMensaje(\"No se realizaron cambios en el libro.\");}}else{// Si el libro es nuevo\nconst responseCrear=await fetch(\"http://localhost:5000/libros\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)});if(responseCrear.ok){setMensaje(`Libro creado con éxito con stock de ${formData.stock} unidad(es).`);setFormData({isbn:\"\",titulo:\"\",autor:\"\",editorial:\"\",stock:1,// Restablecer a 1 después de crear\nprecio:0,ubicacion:\"\"});}else{const data=await responseCrear.json();alert(data.error||\"Hubo un error al crear el libro\");}}}catch(error){console.error(\"Error en la solicitud:\",error);alert(\"Hubo un error con la solicitud: \"+error.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-lg p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"Crear Nuevo Libro\"}),mensaje&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:mensaje}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"isbn\",className:\"form-label\",children:\"ISBN:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"isbn\",name:\"isbn\",value:formData.isbn,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"titulo\",className:\"form-label\",children:\"T\\xEDtulo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"titulo\",name:\"titulo\",value:formData.titulo,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"autor\",className:\"form-label\",children:\"Autor:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"autor\",name:\"autor\",value:formData.autor,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"editorial\",className:\"form-label\",children:\"Editorial:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"editorial\",name:\"editorial\",value:formData.editorial,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"stock\",className:\"form-label\",children:\"Stock (m\\xEDnimo 1):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"stock\",name:\"stock\",value:formData.stock,onChange:handleChange,min:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"precio\",className:\"form-label\",children:\"Precio:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",id:\"precio\",name:\"precio\",value:formData.precio,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ubicacion\",className:\"form-label\",children:\"Ubicaci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"ubicacion\",name:\"ubicacion\",value:formData.ubicacion,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-lg w-100\",children:\"Crear Libro\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-warning btn-lg w-100\",onClick:()=>{setFormData({isbn:\"\",titulo:\"\",autor:\"\",editorial:\"\",stock:1,// Restablecer a 1\nprecio:0,ubicacion:\"\"});setMensaje(\"\");// ← Esto borra el mensaje\n},children:\"Refrescar\"})})]})]})]})});};export default AgregarLibro;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AgregarLibro","formData","setFormData","isbn","titulo","autor","editorial","stock","precio","ubicacion","mensaje","setMensaje","handleChange","e","name","value","target","handleAutocomplete","response","fetch","data","json","ok","length","libro","error","console","alert","handleSubmit","preventDefault","libroExistente","cambios","push","responseActualizar","id","method","headers","body","JSON","stringify","mensajeExito","join","errorData","responseCrear","message","className","children","onSubmit","htmlFor","type","onChange","required","min","onClick"],"sources":["/home/nico/Escritorio/STOCK/stock-charles/frontend/src/components/AgregarLibro.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst AgregarLibro = () => {\n  const [formData, setFormData] = useState({\n    isbn: \"\",\n    titulo: \"\",\n    autor: \"\",\n    editorial: \"\",\n    stock: 1, // Stock predeterminado en 1\n    precio: 0,\n    ubicacion: \"\",\n  });\n\n  const [mensaje, setMensaje] = useState(\"\"); // Estado para el mensaje de éxito\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n    setMensaje(\"\"); // ← Esto borra el mensaje al editar\n  };\n\n  const handleAutocomplete = async () => {\n    const { isbn } = formData;\n\n    if (isbn) {\n      try {\n        const response = await fetch(\n          `http://localhost:5000/libros?isbn=${isbn}`\n        );\n        const data = await response.json();\n\n        if (response.ok && data.length > 0) {\n          const libro = data[0];\n\n          setFormData({\n            ...formData,\n            autor: libro.autor || \"\",\n            editorial: libro.editorial || \"\",\n            stock: libro.stock || 1, // Si stock es 0, establecer a 1\n            precio: libro.precio || 0,\n            titulo: libro.titulo || \"\",\n            ubicacion: libro.ubicacion || \"\",\n          });\n        } else {\n          setFormData({\n            isbn: formData.isbn,\n            titulo: \"\",\n            autor: \"\",\n            editorial: \"\",\n            stock: 1, // Stock predeterminado en 1 para libros nuevos\n            precio: 0,\n            ubicacion: \"\",\n          });\n        }\n      } catch (error) {\n        console.error(\"Error al autocompletar los datos:\", error);\n        alert(\"Hubo un error al intentar obtener los datos del libro.\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!formData.isbn) {\n      setFormData({\n        isbn: \"\",\n        titulo: \"\",\n        autor: \"\",\n        editorial: \"\",\n        stock: 1, // Stock predeterminado en 1\n        precio: 0,\n        ubicacion: \"\",\n      });\n    } else {\n      handleAutocomplete();\n    }\n  }, [formData.isbn]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.isbn || !formData.titulo || !formData.autor) {\n      alert(\"Por favor, complete todos los campos obligatorios.\");\n      return;\n    }\n\n    // Verificar que el stock no sea menor que 1\n    if (formData.stock < 1) {\n      alert(\"El stock debe ser de al menos 1 unidad.\");\n      return;\n    }\n\n    if (formData.precio < 0) {\n      alert(\"El precio no puede ser negativo.\");\n      return;\n    }\n\n    try {\n      // Revisar si el libro ya existe en el sistema\n      const response = await fetch(\n        `http://localhost:5000/libros?isbn=${formData.isbn}`\n      );\n      const data = await response.json();\n\n      if (response.ok && data.length > 0) {\n        const libroExistente = data[0];\n\n        // Comparamos campos solo para mostrar mensaje\n        let cambios = [];\n\n        if (formData.titulo !== libroExistente.titulo) {\n          cambios.push(\"título\");\n        }\n        if (formData.autor !== libroExistente.autor) {\n          cambios.push(\"autor\");\n        }\n        if (formData.editorial !== libroExistente.editorial) {\n          cambios.push(\"editorial\");\n        }\n        if (formData.stock !== libroExistente.stock) {\n          cambios.push(`stock (${libroExistente.stock} → ${formData.stock})`);\n        }\n        if (formData.precio !== libroExistente.precio) {\n          cambios.push(\"precio\");\n        }\n        if (formData.ubicacion !== libroExistente.ubicacion) {\n          cambios.push(\"ubicación\");\n        }\n\n        // Si hay cambios, actualizar el libro en la base de datos\n        if (cambios.length > 0) {\n          // Aquí realizamos la actualización del libro\n          const responseActualizar = await fetch(\n            `http://localhost:5000/libros/${libroExistente.id}`,\n            {\n              method: \"PUT\", // O PATCH, dependiendo de tu API\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify(formData),\n            }\n          );\n\n          if (responseActualizar.ok) {\n            // Mensaje de éxito con los campos que se modificaron\n            const mensajeExito = `Libro actualizado con éxito. Campos modificados: ${cambios.join(\n              \", \"\n            )}.`;\n            setMensaje(mensajeExito);\n          } else {\n            const errorData = await responseActualizar.json();\n            alert(errorData.error || \"Hubo un error al actualizar el libro\");\n          }\n        } else {\n          setMensaje(\"No se realizaron cambios en el libro.\");\n        }\n      } else {\n        // Si el libro es nuevo\n        const responseCrear = await fetch(\"http://localhost:5000/libros\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formData),\n        });\n\n        if (responseCrear.ok) {\n          setMensaje(\n            `Libro creado con éxito con stock de ${formData.stock} unidad(es).`\n          );\n          setFormData({\n            isbn: \"\",\n            titulo: \"\",\n            autor: \"\",\n            editorial: \"\",\n            stock: 1, // Restablecer a 1 después de crear\n            precio: 0,\n            ubicacion: \"\",\n          });\n        } else {\n          const data = await responseCrear.json();\n          alert(data.error || \"Hubo un error al crear el libro\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Error en la solicitud:\", error);\n      alert(\"Hubo un error con la solicitud: \" + error.message);\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"card shadow-lg p-4\">\n        <h2 className=\"mb-4 text-center\">Crear Nuevo Libro</h2>\n        {mensaje && <div className=\"alert alert-info\">{mensaje}</div>}\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"isbn\" className=\"form-label\">\n              ISBN:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"isbn\"\n              name=\"isbn\"\n              value={formData.isbn}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"titulo\" className=\"form-label\">\n              Título:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"titulo\"\n              name=\"titulo\"\n              value={formData.titulo}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"autor\" className=\"form-label\">\n              Autor:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"autor\"\n              name=\"autor\"\n              value={formData.autor}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"editorial\" className=\"form-label\">\n              Editorial:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"editorial\"\n              name=\"editorial\"\n              value={formData.editorial}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"stock\" className=\"form-label\">\n              Stock (mínimo 1):\n            </label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"stock\"\n              name=\"stock\"\n              value={formData.stock}\n              onChange={handleChange}\n              min=\"1\"\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"precio\" className=\"form-label\">\n              Precio:\n            </label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"precio\"\n              name=\"precio\"\n              value={formData.precio}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"ubicacion\" className=\"form-label\">\n              Ubicación:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"ubicacion\"\n              name=\"ubicacion\"\n              value={formData.ubicacion}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"row mt-4\">\n            <div className=\"col-9\">\n              <button type=\"submit\" className=\"btn btn-primary btn-lg w-100\">\n                Crear Libro\n              </button>\n            </div>\n            <div className=\"col-3\">\n              <button\n                type=\"button\"\n                className=\"btn btn-warning btn-lg w-100\"\n                onClick={() => {\n                  setFormData({\n                    isbn: \"\",\n                    titulo: \"\",\n                    autor: \"\",\n                    editorial: \"\",\n                    stock: 1, // Restablecer a 1\n                    precio: 0,\n                    ubicacion: \"\",\n                  });\n                  setMensaje(\"\"); // ← Esto borra el mensaje\n                }}\n              >\n                Refrescar\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AgregarLibro;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}