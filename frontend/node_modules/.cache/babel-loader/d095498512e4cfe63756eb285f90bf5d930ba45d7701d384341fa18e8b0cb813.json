{"ast":null,"code":"var _jsxFileName = \"/home/nico/Escritorio/STOCK/stock-charles/frontend/src/components/AgregarLibro.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { AppContext } from \"../context/AppContext\"; // ajusta la ruta si es necesario\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AgregarLibro = () => {\n  _s();\n  const {\n    agregarLibro,\n    actualizarLibro,\n    buscarLibroPorIsbn\n  } = useContext(AppContext);\n  const [formData, setFormData] = useState({\n    isbn: \"\",\n    titulo: \"\",\n    autor: \"\",\n    editorial: \"\",\n    stock: 1,\n    precio: 0,\n    ubicacion: \"\"\n  });\n  const [mensaje, setMensaje] = useState(\"\");\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n    setMensaje(\"\");\n  };\n  const handleAutocomplete = async () => {\n    if (!formData.isbn) return;\n    try {\n      const librosEncontrados = await buscarLibroPorIsbn(formData.isbn);\n      if (librosEncontrados.length > 0) {\n        const libro = librosEncontrados[0];\n        setFormData({\n          ...formData,\n          autor: libro.autor || \"\",\n          editorial: libro.editorial || \"\",\n          stock: libro.stock || 1,\n          precio: libro.precio || 0,\n          titulo: libro.titulo || \"\",\n          ubicacion: libro.ubicacion || \"\"\n        });\n      } else {\n        // ISBN nuevo, reseteamos datos pero mantenemos el ISBN\n        setFormData({\n          isbn: formData.isbn,\n          titulo: \"\",\n          autor: \"\",\n          editorial: \"\",\n          stock: 1,\n          precio: 0,\n          ubicacion: \"\"\n        });\n      }\n    } catch (error) {\n      console.error(\"Error en autocompletado:\", error);\n      alert(\"Error al autocompletar datos.\");\n    }\n  };\n  useEffect(() => {\n    if (formData.isbn) {\n      handleAutocomplete();\n    }\n  }, [formData.isbn]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.isbn || !formData.titulo || !formData.autor) {\n      alert(\"Por favor, complete todos los campos obligatorios.\");\n      return;\n    }\n    if (formData.stock < 1) {\n      alert(\"El stock debe ser al menos 1.\");\n      return;\n    }\n    if (formData.precio < 0) {\n      alert(\"El precio no puede ser negativo.\");\n      return;\n    }\n    try {\n      const libros = await buscarLibroPorIsbn(formData.isbn);\n      if (libros.length > 0) {\n        const libroExistente = libros[0];\n        let cambios = [];\n        if (formData.titulo !== libroExistente.titulo) cambios.push(\"título\");\n        if (formData.autor !== libroExistente.autor) cambios.push(\"autor\");\n        if (formData.editorial !== libroExistente.editorial) cambios.push(\"editorial\");\n        if (formData.stock !== libroExistente.stock) cambios.push(`stock (${libroExistente.stock} → ${formData.stock})`);\n        if (formData.precio !== libroExistente.precio) cambios.push(\"precio\");\n        if (formData.ubicacion !== libroExistente.ubicacion) cambios.push(\"ubicación\");\n        if (cambios.length > 0) {\n          const actualizado = await actualizarLibro(libroExistente.id, formData);\n          if (actualizado) {\n            setMensaje(`Libro actualizado con éxito. Campos modificados: ${cambios.join(\", \")}.`);\n          } else {\n            alert(\"Hubo un error al actualizar el libro.\");\n          }\n        } else {\n          setMensaje(\"No se realizaron cambios en el libro.\");\n        }\n      } else {\n        const creado = await agregarLibro(formData);\n        if (creado) {\n          setMensaje(`Libro creado con éxito con stock de ${formData.stock} unidad(es).`);\n          setFormData({\n            isbn: \"\",\n            titulo: \"\",\n            autor: \"\",\n            editorial: \"\",\n            stock: 1,\n            precio: 0,\n            ubicacion: \"\"\n          });\n        } else {\n          alert(\"Hubo un error al crear el libro.\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Error en envío:\", error);\n      alert(\"Hubo un error con la solicitud.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow-lg p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"mb-4 text-center\",\n        children: \"Crear Nuevo Libro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), mensaje && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-info\",\n        children: mensaje\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"isbn\",\n            className: \"form-label\",\n            children: \"ISBN:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"isbn\",\n            name: \"isbn\",\n            value: formData.isbn,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"titulo\",\n            className: \"form-label\",\n            children: \"T\\xEDtulo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"titulo\",\n            name: \"titulo\",\n            value: formData.titulo,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"autor\",\n            className: \"form-label\",\n            children: \"Autor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"autor\",\n            name: \"autor\",\n            value: formData.autor,\n            onChange: handleChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"editorial\",\n            className: \"form-label\",\n            children: \"Editorial:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"editorial\",\n            name: \"editorial\",\n            value: formData.editorial,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"stock\",\n            className: \"form-label\",\n            children: \"Stock (m\\xEDnimo 1):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            id: \"stock\",\n            name: \"stock\",\n            value: formData.stock,\n            onChange: handleChange,\n            min: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"precio\",\n            className: \"form-label\",\n            children: \"Precio:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            className: \"form-control\",\n            id: \"precio\",\n            name: \"precio\",\n            value: formData.precio,\n            onChange: handleChange,\n            step: \"0.01\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"ubicacion\",\n            className: \"form-label\",\n            children: \"Ubicaci\\xF3n:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"ubicacion\",\n            name: \"ubicacion\",\n            value: formData.ubicacion,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-grid\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary\",\n            children: \"Guardar Libro\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n_s(AgregarLibro, \"wRqxJMUk+MqN0jBhaweewJMA848=\");\n_c = AgregarLibro;\nexport default AgregarLibro;\nvar _c;\n$RefreshReg$(_c, \"AgregarLibro\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AppContext","jsxDEV","_jsxDEV","AgregarLibro","_s","agregarLibro","actualizarLibro","buscarLibroPorIsbn","formData","setFormData","isbn","titulo","autor","editorial","stock","precio","ubicacion","mensaje","setMensaje","handleChange","e","name","value","target","handleAutocomplete","librosEncontrados","length","libro","error","console","alert","handleSubmit","preventDefault","libros","libroExistente","cambios","push","actualizado","id","join","creado","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","required","min","step","_c","$RefreshReg$"],"sources":["/home/nico/Escritorio/STOCK/stock-charles/frontend/src/components/AgregarLibro.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { AppContext } from \"../context/AppContext\"; // ajusta la ruta si es necesario\n\nconst AgregarLibro = () => {\n  const { agregarLibro, actualizarLibro, buscarLibroPorIsbn } =\n    useContext(AppContext);\n\n  const [formData, setFormData] = useState({\n    isbn: \"\",\n    titulo: \"\",\n    autor: \"\",\n    editorial: \"\",\n    stock: 1,\n    precio: 0,\n    ubicacion: \"\",\n  });\n\n  const [mensaje, setMensaje] = useState(\"\");\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value,\n    });\n    setMensaje(\"\");\n  };\n\n  const handleAutocomplete = async () => {\n    if (!formData.isbn) return;\n\n    try {\n      const librosEncontrados = await buscarLibroPorIsbn(formData.isbn);\n\n      if (librosEncontrados.length > 0) {\n        const libro = librosEncontrados[0];\n        setFormData({\n          ...formData,\n          autor: libro.autor || \"\",\n          editorial: libro.editorial || \"\",\n          stock: libro.stock || 1,\n          precio: libro.precio || 0,\n          titulo: libro.titulo || \"\",\n          ubicacion: libro.ubicacion || \"\",\n        });\n      } else {\n        // ISBN nuevo, reseteamos datos pero mantenemos el ISBN\n        setFormData({\n          isbn: formData.isbn,\n          titulo: \"\",\n          autor: \"\",\n          editorial: \"\",\n          stock: 1,\n          precio: 0,\n          ubicacion: \"\",\n        });\n      }\n    } catch (error) {\n      console.error(\"Error en autocompletado:\", error);\n      alert(\"Error al autocompletar datos.\");\n    }\n  };\n\n  useEffect(() => {\n    if (formData.isbn) {\n      handleAutocomplete();\n    }\n  }, [formData.isbn]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.isbn || !formData.titulo || !formData.autor) {\n      alert(\"Por favor, complete todos los campos obligatorios.\");\n      return;\n    }\n\n    if (formData.stock < 1) {\n      alert(\"El stock debe ser al menos 1.\");\n      return;\n    }\n\n    if (formData.precio < 0) {\n      alert(\"El precio no puede ser negativo.\");\n      return;\n    }\n\n    try {\n      const libros = await buscarLibroPorIsbn(formData.isbn);\n\n      if (libros.length > 0) {\n        const libroExistente = libros[0];\n        let cambios = [];\n\n        if (formData.titulo !== libroExistente.titulo) cambios.push(\"título\");\n        if (formData.autor !== libroExistente.autor) cambios.push(\"autor\");\n        if (formData.editorial !== libroExistente.editorial)\n          cambios.push(\"editorial\");\n        if (formData.stock !== libroExistente.stock)\n          cambios.push(`stock (${libroExistente.stock} → ${formData.stock})`);\n        if (formData.precio !== libroExistente.precio) cambios.push(\"precio\");\n        if (formData.ubicacion !== libroExistente.ubicacion)\n          cambios.push(\"ubicación\");\n\n        if (cambios.length > 0) {\n          const actualizado = await actualizarLibro(\n            libroExistente.id,\n            formData\n          );\n          if (actualizado) {\n            setMensaje(\n              `Libro actualizado con éxito. Campos modificados: ${cambios.join(\n                \", \"\n              )}.`\n            );\n          } else {\n            alert(\"Hubo un error al actualizar el libro.\");\n          }\n        } else {\n          setMensaje(\"No se realizaron cambios en el libro.\");\n        }\n      } else {\n        const creado = await agregarLibro(formData);\n        if (creado) {\n          setMensaje(\n            `Libro creado con éxito con stock de ${formData.stock} unidad(es).`\n          );\n          setFormData({\n            isbn: \"\",\n            titulo: \"\",\n            autor: \"\",\n            editorial: \"\",\n            stock: 1,\n            precio: 0,\n            ubicacion: \"\",\n          });\n        } else {\n          alert(\"Hubo un error al crear el libro.\");\n        }\n      }\n    } catch (error) {\n      console.error(\"Error en envío:\", error);\n      alert(\"Hubo un error con la solicitud.\");\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"card shadow-lg p-4\">\n        <h2 className=\"mb-4 text-center\">Crear Nuevo Libro</h2>\n        {mensaje && <div className=\"alert alert-info\">{mensaje}</div>}\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"isbn\" className=\"form-label\">\n              ISBN:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"isbn\"\n              name=\"isbn\"\n              value={formData.isbn}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"titulo\" className=\"form-label\">\n              Título:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"titulo\"\n              name=\"titulo\"\n              value={formData.titulo}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"autor\" className=\"form-label\">\n              Autor:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"autor\"\n              name=\"autor\"\n              value={formData.autor}\n              onChange={handleChange}\n              required\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"editorial\" className=\"form-label\">\n              Editorial:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"editorial\"\n              name=\"editorial\"\n              value={formData.editorial}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"stock\" className=\"form-label\">\n              Stock (mínimo 1):\n            </label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"stock\"\n              name=\"stock\"\n              value={formData.stock}\n              onChange={handleChange}\n              min=\"1\"\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"precio\" className=\"form-label\">\n              Precio:\n            </label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"precio\"\n              name=\"precio\"\n              value={formData.precio}\n              onChange={handleChange}\n              step=\"0.01\"\n            />\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"ubicacion\" className=\"form-label\">\n              Ubicación:\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"ubicacion\"\n              name=\"ubicacion\"\n              value={formData.ubicacion}\n              onChange={handleChange}\n            />\n          </div>\n\n          <div className=\"d-grid\">\n            <button type=\"submit\" className=\"btn btn-primary\">\n              Guardar Libro\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default AgregarLibro;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}