{"ast":null,"code":"var _jsxFileName = \"/home/nico/Escritorio/STOCK/stock-charles/frontend/src/context/appContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { createContext, useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport cheerio from \"cheerio\";\n\n// Creamos el contexto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/createContext();\n\n// Proveedor del contexto\nexport const AppProvider = ({\n  children\n}) => {\n  _s();\n  // Estado global (store)\n  const [libros, setLibros] = useState([]);\n  const [mensaje, setMensaje] = useState(\"\");\n\n  // Cargar libros al iniciar\n  useEffect(() => {\n    actions.fetchLibros();\n  }, []);\n\n  // Acciones (actions)\n  const store = {\n    libros,\n    mensaje\n  };\n  const actions = {\n    // Cargar todos los libros\n    fetchLibros: async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/libros\");\n        if (response.ok) {\n          const data = await response.json();\n          setLibros(data);\n        }\n      } catch (error) {\n        console.error(\"Error al cargar libros:\", error);\n      }\n    },\n    // Buscar libro por ISBN\n    buscarLibroPorISBN: async isbn => {\n      if (!isbn) return null;\n      try {\n        const response = await fetch(`http://localhost:5000/libros?isbn=${isbn}`);\n        const data = await response.json();\n        if (response.ok && data.length > 0) {\n          return data[0];\n        }\n        return null;\n      } catch (error) {\n        console.error(\"Error al buscar libro por ISBN:\", error);\n        return null;\n      }\n    },\n    // Actualizar libro existente\n    actualizarLibro: async (id, formData) => {\n      try {\n        const response = await fetch(`http://localhost:5000/libros/${id}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(formData)\n        });\n        if (response.ok) {\n          // Actualizar la lista de libros\n          actions.fetchLibros();\n          return {\n            success: true\n          };\n        } else {\n          const errorData = await response.json();\n          return {\n            success: false,\n            error: errorData.error || \"Error al actualizar libro\"\n          };\n        }\n      } catch (error) {\n        console.error(\"Error en la solicitud de actualización:\", error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Crear nuevo libro\n    crearLibro: async formData => {\n      try {\n        const response = await fetch(\"http://localhost:5000/libros\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(formData)\n        });\n        if (response.ok) {\n          // Actualizar la lista de libros\n          actions.fetchLibros();\n          return {\n            success: true\n          };\n        } else {\n          const data = await response.json();\n          return {\n            success: false,\n            error: data.error || \"Error al crear libro\"\n          };\n        }\n      } catch (error) {\n        console.error(\"Error en la solicitud de creación:\", error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Establecer mensaje\n    setMensaje: msg => {\n      setMensaje(msg);\n    },\n    // Bajar stock de libro\n    bajarStockLibro: async (id, cantidad) => {\n      try {\n        const response = await fetch(`http://localhost:5000/bajar-libro/${id}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            cantidad\n          })\n        });\n        const data = await response.json();\n        if (response.ok) {\n          // Actualizar la lista de libros\n          actions.fetchLibros();\n          return {\n            success: true,\n            ubicacion: data.ubicacion || \"\"\n          };\n        } else {\n          return {\n            success: false,\n            error: data.error || \"Error al bajar el stock\"\n          };\n        }\n      } catch (error) {\n        console.error(\"Error en la solicitud:\", error);\n        return {\n          success: false,\n          error: error.message\n        };\n      }\n    },\n    // Función para buscar libro en fuentes externas (scraping)\n    buscarLibroExterno: async isbn => {\n      const isbnLimpio = isbn.replace(/-/g, \"\");\n      try {\n        // Intentamos primero con el scraping de librerías argentinas\n        const resultadoLocal = await buscarEnLibreriasArgentinas(isbnLimpio);\n        if (resultadoLocal && !resultadoLocal.error) {\n          return resultadoLocal;\n        }\n\n        // Si no funciona, probamos con Google Books como respaldo\n        const googleResponse = await fetch(`https://www.googleapis.com/books/v1/volumes?q=isbn:${isbnLimpio}`);\n        const googleData = await googleResponse.json();\n        if (googleData.items && googleData.items.length > 0) {\n          const libro = googleData.items[0].volumeInfo;\n          return {\n            titulo: libro.title || \"\",\n            autor: libro.authors ? libro.authors.join(\", \") : \"Desconocido\",\n            editorial: libro.publisher || \"Desconocida\",\n            fuente: \"Google Books\"\n          };\n        }\n\n        // Si tampoco funciona Google Books, probamos con Open Library como último recurso\n        const openLibraryResponse = await fetch(`https://openlibrary.org/api/books?bibkeys=ISBN:${isbnLimpio}&format=json&jscmd=data`);\n        const openLibraryData = await openLibraryResponse.json();\n        const openLibraryKey = `ISBN:${isbnLimpio}`;\n        if (openLibraryData[openLibraryKey]) {\n          const libro = openLibraryData[openLibraryKey];\n          return {\n            titulo: libro.title || \"\",\n            autor: libro.authors ? libro.authors.map(a => a.name).join(\", \") : \"Desconocido\",\n            editorial: libro.publishers ? libro.publishers[0].name : \"Desconocida\",\n            fuente: \"Open Library\"\n          };\n        }\n        return null;\n      } catch (error) {\n        console.error(\"Error al obtener datos del libro:\", error.message);\n        return null;\n      }\n    }\n  };\n\n  // Función auxiliar para buscar en librerías argentinas\n  const buscarEnLibreriasArgentinas = async isbn => {\n    try {\n      // Intentamos buscar en Cúspide\n      const resultadoCuspide = await buscarEnCuspide(isbn);\n      if (resultadoCuspide && !resultadoCuspide.error) return resultadoCuspide;\n\n      // Si no funciona, intentamos con Santa Fe\n      const resultadoSantaFe = await buscarEnSantaFe(isbn);\n      if (resultadoSantaFe && !resultadoSantaFe.error) return resultadoSantaFe;\n\n      // Si no funciona, intentamos con Tematika\n      const resultadoTematika = await buscarEnTematika(isbn);\n      if (resultadoTematika && !resultadoTematika.error) return resultadoTematika;\n      return null;\n    } catch (error) {\n      console.error(\"Error al buscar en librerías argentinas:\", error);\n      return null;\n    }\n  };\n\n  // Función para buscar en Cúspide\n  const buscarEnCuspide = async isbn => {\n    try {\n      const searchResponse = await axios.get(`https://www.cuspide.com/resultados.aspx?c=&tema=5&titulo=&autor=&isbn=${isbn}`);\n      const $ = cheerio.load(searchResponse.data);\n      const detalleUrl = $(\".product-item-link\").first().attr(\"href\");\n      if (!detalleUrl) {\n        return null;\n      }\n      const detalleResponse = await axios.get(detalleUrl);\n      const $detalle = cheerio.load(detalleResponse.data);\n      const titulo = $detalle(\".page-title\").text().trim();\n      const autor = $detalle(\".product-author\").text().trim();\n      const editorial = $detalle(\".product-publisher\").text().trim();\n      return {\n        titulo,\n        autor,\n        editorial,\n        fuente: \"Cúspide\"\n      };\n    } catch (error) {\n      console.error(\"Error al buscar en Cúspide:\", error.message);\n      return null;\n    }\n  };\n\n  // Función para buscar en Librería Santa Fe\n  const buscarEnSantaFe = async isbn => {\n    try {\n      const searchResponse = await axios.get(`https://www.lsf.com.ar/busqueda/listaLibros.aspx?criterio=ISBN:${isbn}`);\n      const $ = cheerio.load(searchResponse.data);\n      const detalleUrl = $(\".imagen a\").first().attr(\"href\");\n      if (!detalleUrl) {\n        return null;\n      }\n      const urlCompleta = `https://www.lsf.com.ar${detalleUrl}`;\n      const detalleResponse = await axios.get(urlCompleta);\n      const $detalle = cheerio.load(detalleResponse.data);\n      const titulo = $detalle(\".titulo h1\").text().trim();\n      const autor = $detalle(\".autor a\").text().trim();\n      const editorial = $detalle(\".editorial a\").text().trim();\n      return {\n        titulo,\n        autor,\n        editorial,\n        fuente: \"Librería Santa Fe\"\n      };\n    } catch (error) {\n      console.error(\"Error al buscar en Librería Santa Fe:\", error.message);\n      return null;\n    }\n  };\n\n  // Función para buscar en Tematika\n  const buscarEnTematika = async isbn => {\n    try {\n      const searchResponse = await axios.get(`https://www.tematika.com/articulos/${isbn}`);\n      const $ = cheerio.load(searchResponse.data);\n      const titulo = $(\".product-name\").text().trim();\n      if (!titulo) {\n        return null;\n      }\n      const autor = $(\".autor a\").text().trim();\n      const editorial = $(\".editorial a\").text().trim();\n      return {\n        titulo,\n        autor,\n        editorial,\n        fuente: \"Tematika (Yenny/El Ateneo)\"\n      };\n    } catch (error) {\n      console.error(\"Error al buscar en Tematika:\", error.message);\n      return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      store,\n      actions\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this);\n};\n\n// Hook personalizado para facilitar el uso del contexto\n_s(AppProvider, \"z0knvvbbS6PEZK11tSJ6rQHbinU=\");\n_c = AppProvider;\nexport const useAppContext = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useAppContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["createContext","useState","useContext","useEffect","axios","cheerio","jsxDEV","_jsxDEV","AppContext","AppProvider","children","_s","libros","setLibros","mensaje","setMensaje","actions","fetchLibros","store","response","fetch","ok","data","json","error","console","buscarLibroPorISBN","isbn","length","actualizarLibro","id","formData","method","headers","body","JSON","stringify","success","errorData","message","crearLibro","msg","bajarStockLibro","cantidad","ubicacion","buscarLibroExterno","isbnLimpio","replace","resultadoLocal","buscarEnLibreriasArgentinas","googleResponse","googleData","items","libro","volumeInfo","titulo","title","autor","authors","join","editorial","publisher","fuente","openLibraryResponse","openLibraryData","openLibraryKey","map","a","name","publishers","resultadoCuspide","buscarEnCuspide","resultadoSantaFe","buscarEnSantaFe","resultadoTematika","buscarEnTematika","searchResponse","get","$","load","detalleUrl","first","attr","detalleResponse","$detalle","text","trim","urlCompleta","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAppContext","_s2","$RefreshReg$"],"sources":["/home/nico/Escritorio/STOCK/stock-charles/frontend/src/context/appContext.js"],"sourcesContent":["import { createContext, useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport cheerio from \"cheerio\";\n\n// Creamos el contexto\nexport const AppContext = createContext();\n\n// Proveedor del contexto\nexport const AppProvider = ({ children }) => {\n  // Estado global (store)\n  const [libros, setLibros] = useState([]);\n  const [mensaje, setMensaje] = useState(\"\");\n\n  // Cargar libros al iniciar\n  useEffect(() => {\n    actions.fetchLibros();\n  }, []);\n\n  // Acciones (actions)\n  const store = {\n    libros,\n    mensaje,\n  };\n\n  const actions = {\n    // Cargar todos los libros\n    fetchLibros: async () => {\n      try {\n        const response = await fetch(\"http://localhost:5000/libros\");\n        if (response.ok) {\n          const data = await response.json();\n          setLibros(data);\n        }\n      } catch (error) {\n        console.error(\"Error al cargar libros:\", error);\n      }\n    },\n\n    // Buscar libro por ISBN\n    buscarLibroPorISBN: async (isbn) => {\n      if (!isbn) return null;\n\n      try {\n        const response = await fetch(\n          `http://localhost:5000/libros?isbn=${isbn}`\n        );\n        const data = await response.json();\n\n        if (response.ok && data.length > 0) {\n          return data[0];\n        }\n        return null;\n      } catch (error) {\n        console.error(\"Error al buscar libro por ISBN:\", error);\n        return null;\n      }\n    },\n\n    // Actualizar libro existente\n    actualizarLibro: async (id, formData) => {\n      try {\n        const response = await fetch(`http://localhost:5000/libros/${id}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formData),\n        });\n\n        if (response.ok) {\n          // Actualizar la lista de libros\n          actions.fetchLibros();\n          return { success: true };\n        } else {\n          const errorData = await response.json();\n          return {\n            success: false,\n            error: errorData.error || \"Error al actualizar libro\",\n          };\n        }\n      } catch (error) {\n        console.error(\"Error en la solicitud de actualización:\", error);\n        return { success: false, error: error.message };\n      }\n    },\n\n    // Crear nuevo libro\n    crearLibro: async (formData) => {\n      try {\n        const response = await fetch(\"http://localhost:5000/libros\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(formData),\n        });\n\n        if (response.ok) {\n          // Actualizar la lista de libros\n          actions.fetchLibros();\n          return { success: true };\n        } else {\n          const data = await response.json();\n          return {\n            success: false,\n            error: data.error || \"Error al crear libro\",\n          };\n        }\n      } catch (error) {\n        console.error(\"Error en la solicitud de creación:\", error);\n        return { success: false, error: error.message };\n      }\n    },\n\n    // Establecer mensaje\n    setMensaje: (msg) => {\n      setMensaje(msg);\n    },\n\n    // Bajar stock de libro\n    bajarStockLibro: async (id, cantidad) => {\n      try {\n        const response = await fetch(\n          `http://localhost:5000/bajar-libro/${id}`,\n          {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({ cantidad }),\n          }\n        );\n\n        const data = await response.json();\n\n        if (response.ok) {\n          // Actualizar la lista de libros\n          actions.fetchLibros();\n          return {\n            success: true,\n            ubicacion: data.ubicacion || \"\",\n          };\n        } else {\n          return {\n            success: false,\n            error: data.error || \"Error al bajar el stock\",\n          };\n        }\n      } catch (error) {\n        console.error(\"Error en la solicitud:\", error);\n        return { success: false, error: error.message };\n      }\n    },\n\n    // Función para buscar libro en fuentes externas (scraping)\n    buscarLibroExterno: async (isbn) => {\n      const isbnLimpio = isbn.replace(/-/g, \"\");\n\n      try {\n        // Intentamos primero con el scraping de librerías argentinas\n        const resultadoLocal = await buscarEnLibreriasArgentinas(isbnLimpio);\n        if (resultadoLocal && !resultadoLocal.error) {\n          return resultadoLocal;\n        }\n\n        // Si no funciona, probamos con Google Books como respaldo\n        const googleResponse = await fetch(\n          `https://www.googleapis.com/books/v1/volumes?q=isbn:${isbnLimpio}`\n        );\n        const googleData = await googleResponse.json();\n\n        if (googleData.items && googleData.items.length > 0) {\n          const libro = googleData.items[0].volumeInfo;\n          return {\n            titulo: libro.title || \"\",\n            autor: libro.authors ? libro.authors.join(\", \") : \"Desconocido\",\n            editorial: libro.publisher || \"Desconocida\",\n            fuente: \"Google Books\",\n          };\n        }\n\n        // Si tampoco funciona Google Books, probamos con Open Library como último recurso\n        const openLibraryResponse = await fetch(\n          `https://openlibrary.org/api/books?bibkeys=ISBN:${isbnLimpio}&format=json&jscmd=data`\n        );\n        const openLibraryData = await openLibraryResponse.json();\n        const openLibraryKey = `ISBN:${isbnLimpio}`;\n\n        if (openLibraryData[openLibraryKey]) {\n          const libro = openLibraryData[openLibraryKey];\n          return {\n            titulo: libro.title || \"\",\n            autor: libro.authors\n              ? libro.authors.map((a) => a.name).join(\", \")\n              : \"Desconocido\",\n            editorial: libro.publishers\n              ? libro.publishers[0].name\n              : \"Desconocida\",\n            fuente: \"Open Library\",\n          };\n        }\n\n        return null;\n      } catch (error) {\n        console.error(\"Error al obtener datos del libro:\", error.message);\n        return null;\n      }\n    },\n  };\n\n  // Función auxiliar para buscar en librerías argentinas\n  const buscarEnLibreriasArgentinas = async (isbn) => {\n    try {\n      // Intentamos buscar en Cúspide\n      const resultadoCuspide = await buscarEnCuspide(isbn);\n      if (resultadoCuspide && !resultadoCuspide.error) return resultadoCuspide;\n\n      // Si no funciona, intentamos con Santa Fe\n      const resultadoSantaFe = await buscarEnSantaFe(isbn);\n      if (resultadoSantaFe && !resultadoSantaFe.error) return resultadoSantaFe;\n\n      // Si no funciona, intentamos con Tematika\n      const resultadoTematika = await buscarEnTematika(isbn);\n      if (resultadoTematika && !resultadoTematika.error)\n        return resultadoTematika;\n\n      return null;\n    } catch (error) {\n      console.error(\"Error al buscar en librerías argentinas:\", error);\n      return null;\n    }\n  };\n\n  // Función para buscar en Cúspide\n  const buscarEnCuspide = async (isbn) => {\n    try {\n      const searchResponse = await axios.get(\n        `https://www.cuspide.com/resultados.aspx?c=&tema=5&titulo=&autor=&isbn=${isbn}`\n      );\n      const $ = cheerio.load(searchResponse.data);\n\n      const detalleUrl = $(\".product-item-link\").first().attr(\"href\");\n\n      if (!detalleUrl) {\n        return null;\n      }\n\n      const detalleResponse = await axios.get(detalleUrl);\n      const $detalle = cheerio.load(detalleResponse.data);\n\n      const titulo = $detalle(\".page-title\").text().trim();\n      const autor = $detalle(\".product-author\").text().trim();\n      const editorial = $detalle(\".product-publisher\").text().trim();\n\n      return {\n        titulo,\n        autor,\n        editorial,\n        fuente: \"Cúspide\",\n      };\n    } catch (error) {\n      console.error(\"Error al buscar en Cúspide:\", error.message);\n      return null;\n    }\n  };\n\n  // Función para buscar en Librería Santa Fe\n  const buscarEnSantaFe = async (isbn) => {\n    try {\n      const searchResponse = await axios.get(\n        `https://www.lsf.com.ar/busqueda/listaLibros.aspx?criterio=ISBN:${isbn}`\n      );\n      const $ = cheerio.load(searchResponse.data);\n\n      const detalleUrl = $(\".imagen a\").first().attr(\"href\");\n\n      if (!detalleUrl) {\n        return null;\n      }\n\n      const urlCompleta = `https://www.lsf.com.ar${detalleUrl}`;\n      const detalleResponse = await axios.get(urlCompleta);\n      const $detalle = cheerio.load(detalleResponse.data);\n\n      const titulo = $detalle(\".titulo h1\").text().trim();\n      const autor = $detalle(\".autor a\").text().trim();\n      const editorial = $detalle(\".editorial a\").text().trim();\n\n      return {\n        titulo,\n        autor,\n        editorial,\n        fuente: \"Librería Santa Fe\",\n      };\n    } catch (error) {\n      console.error(\"Error al buscar en Librería Santa Fe:\", error.message);\n      return null;\n    }\n  };\n\n  // Función para buscar en Tematika\n  const buscarEnTematika = async (isbn) => {\n    try {\n      const searchResponse = await axios.get(\n        `https://www.tematika.com/articulos/${isbn}`\n      );\n      const $ = cheerio.load(searchResponse.data);\n\n      const titulo = $(\".product-name\").text().trim();\n\n      if (!titulo) {\n        return null;\n      }\n\n      const autor = $(\".autor a\").text().trim();\n      const editorial = $(\".editorial a\").text().trim();\n\n      return {\n        titulo,\n        autor,\n        editorial,\n        fuente: \"Tematika (Yenny/El Ateneo)\",\n      };\n    } catch (error) {\n      console.error(\"Error al buscar en Tematika:\", error.message);\n      return null;\n    }\n  };\n\n  return (\n    <AppContext.Provider value={{ store, actions }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n\n// Hook personalizado para facilitar el uso del contexto\nexport const useAppContext = () => useContext(AppContext);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}